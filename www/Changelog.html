<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<TITLE>GraphicsMagick 1.4 ChangeLog</TITLE>
	<STYLE>
	<!--
		@page { size: 8.5in 11in }
		TD P { color: #000000; font-family: "Verdana", "Arial", "Helvetica", sans-serif; font-size: 12pt }
		P { color: #000000; font-family: "Verdana", "Arial", "Helvetica", sans-serif; font-size: 12pt }
		A:link { color: #00B04F }
		A:visited { color: #800080 }
	-->
	</STYLE>
</HEAD>
<body LANG="en-US" TEXT="#000000" LINK="#00B04F" VLINK="#007B37" BGCOLOR="#ffffff">
<table BORDER=0 WIDTH="100%" >
<tr>
<td BGCOLOR="#ffffff">
<b><font face="Helvetica, Arial"><font color="#00B04F"><font size="+1">GraphicsMagick 1.4 ChangeLog</font></font></font></b></td>
</tr>
</table>
<p>
2010-02-03  Bob Friesenhahn  &lt;bfriesen@simple.dallas.tx.us&gt;

<UL>
  <LI> magick/command.c (ImportImageCommand): Don't assign a pointer to
        static constant data into an array which uses heap allocated data.
        Avoids a "double free" error when using gm import -frame.  Patch
        by Daniel Kobras.

  <LI> magick/color_lookup.c (QueryColorname): XPM does not support
        RGBA color syntax, but it does support RGB.  Patch by Daniel
        Kobras.

  <LI> magick/blob.c (OpenBlob): Only form multi-part filename when
        required.

  <LI> magick/display.c (MagickXDisplayImage): The display '-update'
        option was only working in conjunction with the '-delay' option
        with a delay setting of 2 or greater.  Problem reported by Sami
        Liedes.  Patch by Vincent MAUGE.  Resolves Debian bug ID 414779.

</UL>
<p>
2010-02-02  Bob Friesenhahn  &lt;bfriesen@simple.dallas.tx.us&gt;

<UL>
  <LI> magick/blob.c (OpenBlob): Only apply scene substitution to
        the filename if adjoin is false.

  <LI> magick/constitute.c (WriteImage): If adjoin is true, then
        restore original filename specification since opening the blob
        modifies it.  Resolves Debian bug ID 552998.

  <LI> magick/image.c (SetImageInfo): Don't check filename for scene
        substitution if adjoin is intentionally false.  This allows saving
        to file names which look like they contain a scene substitution
        pattern.

  <LI> magick/command.c (MogrifyImage): Convolution failure results in
        a crash rather than an error report.  Resolves Debian bug ID
        539251.

  <LI> magick/deprecate.c: The string constants LoadImageText,
        SaveImageText, LoadImagesText, and SaveImagesText should have been
        deprecated, rather than being entirely removed.

</UL>
<p>
2010-01-31  Bob Friesenhahn  &lt;bfriesen@simple.dallas.tx.us&gt;

<UL>
  <LI> www/Makefile.am (install-data-html): Make sure that only the
        necessary documentation files are installed.

</UL>
<p>
2010-01-30  Bob Friesenhahn  &lt;bfriesen@simple.dallas.tx.us&gt;

<UL>
  <LI> VisualMagick/installer/inc/body.isx: Strip out executable
        components which depend on proprietary MFC and ATL libraries.
        This means that "gmdisplay.exe" and "ImageMagickObject" are no
        longer distributed or installed via the Windows setup installer.
        When a new display application is developed based on open source
        libraries, then the display functionality and associations can be
        restored.

</UL>
<p>
2010-01-28  Bob Friesenhahn  &lt;bfriesen@simple.dallas.tx.us&gt;

<UL>
  <LI> magick/transform.c (FlattenImages): Apply the image background
        color under the initial canvas image if it is non-opaque.

  <LI> magick/composite.c (MagickCompositeImageUnderColor): New private
        function to apply a color underneath a non-opaque image.

</UL>
<p>
2010-01-26  Bob Friesenhahn  &lt;bfriesen@simple.dallas.tx.us&gt;

<UL>
  <LI> magick/prefetch.h: New header to provide wrapper macros for
        compiler-specific explicit prefetch APIs.

  <LI> magick/effect.c (BlurImageScanlines): Solid color images which
        only differed in the matte channel were not being blurred.

  <LI> magick/color.h (NotPixelMatch,PixelMatch): New macros to
        fully-compare a pixel, including matte.

  <LI> magick/resource.c (SetMagickResourceLimit): Invoke
        omp_set_num_threads() to set thread limit if ThreadsResource is
        requested.

  <LI> magick/pixel_cache.c (AllocateThreadViewSet): The number of
        cache views to allocate needs to be obtained from
        omp_get_max_threads().  Otherwise there is a crash if the number
        of threads is reduced from the original value.

</UL>
<p>
2010-01-20  Bob Friesenhahn  &lt;bfriesen@simple.dallas.tx.us&gt;

<UL>
  <LI> www/benchmarks.rst: Update benchmark report to compare
        performance with ImageMagick 6.5.8-10.

</UL>
<p>
2010-01-17  Bob Friesenhahn  &lt;bfriesen@simple.dallas.tx.us&gt;

<UL>
  <LI> magick/shear.c (RotateImage, ShearImage): Ensure that errors
        propagate up to the API user.  Don't overwrite a detailed
        exception message with a generic one.  Don't return a bogus image
        if there is an error.

</UL>
<p>
2010-01-12  Bob Friesenhahn  &lt;bfriesen@simple.dallas.tx.us&gt;

<UL>
  <LI> VisualMagick/installer/inc/files-base.isx: Third party
        executables not included in the Visual Studio build are no longer
        bundled in the GraphicsMagick installer.  This means that
        hp2xx.exe, mpeg2dec.exe, and mpeg2enc.exe are no longer
        distributed.

  <LI> www/Magick++/Image.rst: Emphasize that InitializeMagick() MUST
        be invoked, and make sure that all of the examples show use of it.

</UL>
<p>
2010-01-10  Bob Friesenhahn  &lt;bfriesen@simple.dallas.tx.us&gt;

<UL>
  <LI> magick/delegate.c (InvokeDelegate): Use MagickSpawnVP() under
        Windows as well.<BR>
        (InvokePostscriptDelegate): Use MagickSpawnVP() under Windows as
        well.

  <LI> magick/utility.c (MagickSpawnVP): Moved from unix_port.c.
        Updated implementation to use spawnvp() rather than fork()/exec()
        under Windows.

  <LI> configure.ac: Add check for Windows spawnvp function.
        Add check for process.h.

  <LI> magick/semaphore.c (DestroySemaphore): POSIX mutex statically
        initialized via PTHREAD_MUTEX_INITIALIZER should not be destroyed.

  <LI> configure.ac: DisableSlowOpenMP is now the default.  Use
        --enable-openmp-slow to enable OpenMP for algorithms which
        sometimes run slower rather than faster.

</UL>
<p>
2010-01-05  Bob Friesenhahn  &lt;bfriesen@simple.dallas.tx.us&gt;

<UL>
  <LI> magick/version.h.in: Added MagickLibInterfaceNewest and
        MagickLibInterfaceOldest preprocessor defines so that applications
        may easily test for library versions while compiling.

</UL>
<p>
2010-01-03  Bob Friesenhahn  &lt;bfriesen@simple.dallas.tx.us&gt;

<UL>
  <LI> magick/render.c (DrawPolygonPrimitive): Use restrict keyword.

  <LI> magick/pixel_iterator.c: Use restrict keyword.

  <LI> utilities/Makefile.am: Modules are supported in the shared
        library built so list-module.sh test should be expected to pass.

  <LI> configure.ac: Add WITH_SHARED_LIBS conditional.

</UL>
<p>
2010-01-02  Bob Friesenhahn  &lt;bfriesen@simple.dallas.tx.us&gt;

<UL>
  <LI> magick/version.h.in: Update copyright years.

  <LI> magick/semaphore.c: The return code from all pthread mutex APIs
        are now checked (not just initialize and destroy), and any error
        results in an immediate fatal exit.

</UL>
<p>
<HR>
Copyright (C) 2010 GraphicsMagick Group

<p>
This program is covered by multiple licenses, which are described in
Copyright.txt. You should have received a copy of Copyright.txt with this
package; otherwise see http://www.graphicsmagick.org/www/Copyright.html.


<hr>
</BODY>
</HTML>
