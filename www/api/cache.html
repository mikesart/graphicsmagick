<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
<STYLE>
<!--
@page { size: 8.5in 11in }
TD P { color: #000000; font-family: "Verdana", "Arial", "Helvetica", sans-serif; font-size: 14pt }
P { color: #000000; font-family: "Verdana", "Arial", "Helvetica", sans-serif; font-size: 14pt }
H2 { color: #000000 }
A:link { color: #0085c0 }
A:visited { color: #800080 }
-->
</STYLE>

<TITLE>cache - Low-level access to image pixels</TITLE>
<LINK REV="made" HREF="mailto:root@gohan11.freebsd.org">
</HEAD>

<BODY LANG="en-US" TEXT="#000000" LINK="#0085c0" VLINK="#800080" BGCOLOR="#ffffff">
<FORM ACTION="http://www.google.com/search">
        <INPUT TYPE=HIDDEN NAME="domains" VALUE="www.graphicsmagick.org">
        <INPUT TYPE=HIDDEN NAME="sitesearch" VALUE="www.graphicsmagick.org">
        <TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 RULES=NONE STYLE="page-break-before: always">
                <COL WIDTH=208*>
                <COL WIDTH=48*>
                <TR>
                        <TD WIDTH=81%>
                                <P ALIGN=LEFT>[<A HREF="../../index.html">Home</A>] [<A HREF="../mission.html">Mission
                                Statement</A>] [<A HREF="../development.html">Development Process</A>] [<A HREF="../download.html">Download</A>]
                                [<A HREF="../install.html">Installation</A>] [<A HREF="../cvs.html">CVS</A>]
                                [<A HREF="http://sourceforge.net/mail/?group_id=73485">Mailing
                                Lists</A>] [<A HREF="../FAQ.html">FAQ</A>] [<A HREF="../formats.html">Formats</A>]
                                [<A HREF="../NEWS.html">News</A> ] [<A HREF="../Changelog.html"><SPAN LANG="en-US">ChangeLog</SPAN></A>]
                                [<A HREF="http://sourceforge.net/projects/graphicsmagick/">Report
                                Bugs</A>] [<A HREF="../utilities.html">Utilities</A>] [<A HREF="../programming.html">Programming</A>]
                                [<A HREF="../books.html">Books</A>] [<A HREF="../links.html">Links</A>]</P>
                        </TD>
                        <TD ROWSPAN=2 WIDTH=19%>
                                <P ALIGN=CENTER><IMG SRC="../../images/gm-188x120t.png" NAME="Graphic2" ALIGN=BOTTOM WIDTH=188 HEIGHT=120 BORDER=0></P>
                        </TD>
                </TR>
                <TR>
                        <TD WIDTH=81%>
                                <DIV ALIGN=CENTER>
                                        <P><I>Search GraphicsMagick site <INPUT TYPE=TEXT NAME="q" SIZE=20 MAXLENGTH=255>
                                        <INPUT TYPE=SUBMIT NAME="sa" VALUE="Search"> </I>
                                        </P>
                                </DIV>
                        </TD>
                </TR>
        </TABLE>
</FORM>


<A NAME="__index__"></A>
<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#name">
NAME</A>
	<LI><A HREF="#synopsis">
SYNOPSIS</A>
	<LI><A HREF="#function descriptions">
FUNCTION 
DESCRIPTIONS</A>
	<UL>

		<LI><A HREF="#acquireimagepixels">AcquireImagePixels</A>
		<LI><A HREF="#acquireonepixel">AcquireOnePixel</A>
		<LI><A HREF="#destroycacheinfo">DestroyCacheInfo</A>
		<LI><A HREF="#destroyimagepixels">DestroyImagePixels</A>
		<LI><A HREF="#getimagepixels">GetImagePixels</A>
		<LI><A HREF="#getimagevirtualpixelmethod">GetImageVirtualPixelMethod</A>
		<LI><A HREF="#getindexes">GetIndexes</A>
		<LI><A HREF="#getonepixel">GetOnePixel</A>
		<LI><A HREF="#getpixels">GetPixels</A>
		<LI><A HREF="#modifycache">ModifyCache</A>
		<LI><A HREF="#referencecache">ReferenceCache</A>
		<LI><A HREF="#setimagepixels">SetImagePixels</A>
		<LI><A HREF="#setimagevirtualpixelmethod">SetImageVirtualPixelMethod</A>
	</UL>

</UL>
<!-- INDEX END -->

<HR>
<P>
<H2><A NAME="name">
NAME</A></H2>
<P>cache - Low-level access to image pixels</P>
<P>
<HR>
<H2><A NAME="synopsis">
SYNOPSIS</A></H2>
<P>const PixelPacket * <STRONG>AcquireImagePixels</STRONG>( const Image *image, const long x, const long y, const unsigned long columns, const unsigned long rows, ExceptionInfo *exception );</P>
<P>PixelPacket  <STRONG>AcquireOnePixel</STRONG>( const Image image, const long x, const long y, ExceptionInfo exception );</P>
<P>void  <STRONG>DestroyCacheInfo</STRONG>( Cache cache );</P>
<P>void  <STRONG>DestroyImagePixels</STRONG>( Image *image );</P>
<P>PixelPacket * <STRONG>GetImagePixels</STRONG>( Image *image, const long x, const long y, const unsigned long columns, const unsigned long rows );</P>
<P>VirtualPixelMethod  <STRONG>GetImageVirtualPixelMethod</STRONG>( const Image *image );</P>
<P>IndexPacket * <STRONG>GetIndexes</STRONG>( const Image *image );</P>
<P>PixelPacket * <STRONG>GetOnePixel</STRONG>( const Image image, const long x, const long y );</P>
<P>PixelPacket * <STRONG>GetPixels</STRONG>( const Image image );</P>
<P>unsigned int  <STRONG>ModifyCache</STRONG>( Image *image );</P>
<P>Cache  <STRONG>ReferenceCache</STRONG>( Cache cache_info );</P>
<P>PixelPacket * <STRONG>SetImagePixels</STRONG>( Image *image, const long x, const long y, const unsigned long columns, const unsigned long rows );</P>
<P><STRONG>SetImageVirtualPixelMethod</STRONG>( const Image *image, const VirtualPixelMethod method );</P>
<P>unsigned int  <STRONG>SyncImagePixels</STRONG>( Image *image );</P>
<P>
<HR>
<H2><A NAME="function descriptions">
FUNCTION 
DESCRIPTIONS</A></H2>
<P>
<H3><A NAME="acquireimagepixels">AcquireImagePixels</A></H3>
<blockquote>AcquireImagePixels() acquires pixels from the in-memory or disk pixel cache as defined by the geometry parameters. A pointer to the pixel is returned if the pixels are transferred, otherwise a NULL is returned. If you plan to modify the pixels, use GetImagePixels ( ) instead. </blockquote><blockquote>The format of the AcquireImagePixels() method is: </blockquote><blockquote>const <A HREF="types.html#PixelPacket">PixelPacket</A> *AcquireImagePixels ( const <A HREF="types.html#Image">Image</A> *image, const long x, const long y, const unsigned long columns, const unsigned long rows, <A HREF="types.html#ExceptionInfo">ExceptionInfo</A> *exception ); </blockquote><P>
A description of each parameter follows:</P>
<DL><DT><DD><DL>
<DD><P></P><DT><STRONG><A NAME="item_o_status%3A">status:</A></STRONG><BR>
<DD>
<CODE>AcquireImagePixels()</CODE> returns a pointer to the pixels if they are transferred, otherwise a 
NULL is returned.
<P></P>
<DD><P></P><DT><STRONG><A NAME="item_o_image%3A">image:</A></STRONG><BR>
<DD>
The image.
<P></P>
<DD><P></P><DT><STRONG><A NAME="item_o_x%2Cy%2Ccolumns%2Crows%3A">x,y,columns,rows:</A></STRONG><BR>
<DD>
These values define the perimeter of a region of pixels.
<P></P>
<DD><P></P><DT><STRONG><A NAME="item_o_exception%3A">exception:</A></STRONG><BR>
<DD>
Return any errors or warnings in this structure.
<P></P></DL></DL>
<P>
<H3><A NAME="acquireonepixel">AcquireOnePixel</A></H3>
<blockquote>AcquireOnePixel() returns a single pixel at the specified ( x, y ) location. The image background color is returned if an error occurs. If you plan to modify the pixel, use GetOnePixel ( ) instead. </blockquote><blockquote>The format of the AcquireOnePixel() method is: </blockquote><blockquote><A HREF="types.html#PixelPacket">PixelPacket</A> AcquireOnePixel ( const <A HREF="types.html#Image">Image</A> image, const long x, const long y, <A HREF="types.html#ExceptionInfo">ExceptionInfo</A> exception ); </blockquote><P>
A description of each parameter follows:</P>
<DL><DT><DD><DL>
<DD><P></P><DT><STRONG><A NAME="item_o_pixels%3A">pixels:</A></STRONG><BR>
<DD>
<CODE>AcquireOnePixel()</CODE> returns a pixel at the specified (x,y) location.
<P></P>
<DD><P></P><DT><STRONG>image:</STRONG><BR>
<DD>
The image.
<P></P>
<DD><P></P><DT><STRONG><A NAME="item_o_x%2Cy%3A">x,y:</A></STRONG><BR>
<DD>
These values define the location of the pixel to return.
<P></P>
<DD><P></P><DT><STRONG>exception:</STRONG><BR>
<DD>
Return any errors or warnings in this structure.
<P></P></DL></DL>
<P>
<H3><A NAME="destroycacheinfo">DestroyCacheInfo</A></H3>
<blockquote>DestroyCacheInfo() deallocates memory associated with the pixel cache. </blockquote><blockquote>The format of the DestroyCacheInfo() method is: </blockquote><blockquote>void DestroyCacheInfo ( <A HREF="types.html#Cache">Cache</A> cache ); </blockquote><P>
A description of each parameter follows:</P>
<DL><DT><DD><DL>
<DD><P></P><DT><STRONG><A NAME="item_o_cache%3A">cache:</A></STRONG><BR>
<DD>
Specifies a pointer to a Cache structure.
<P></P></DL></DL>
<P>
<H3><A NAME="destroyimagepixels">DestroyImagePixels</A></H3>
<blockquote>DestroyImagePixels() deallocates memory associated with the pixel cache. </blockquote><blockquote>The format of the DestroyImagePixels() method is: </blockquote><blockquote>void DestroyImagePixels ( <A HREF="types.html#Image">Image</A> *image ); </blockquote><P>
A description of each parameter follows:</P>
<DL><DT><DD><DL>
<DD><P></P><DT><STRONG>image:</STRONG><BR>
<DD>
The image.
<P></P></DL></DL>
<P>
<H3><A NAME="getimagepixels">GetImagePixels</A></H3>
<blockquote>GetImagePixels() gets pixels from the in-memory or disk pixel cache as defined by the geometry parameters. A pointer to the pixels is returned if the pixels are transferred, otherwise a NULL is returned. </blockquote><blockquote>The format of the GetImagePixels() method is: </blockquote><blockquote><A HREF="types.html#PixelPacket">PixelPacket</A> *GetImagePixels ( <A HREF="types.html#Image">Image</A> *image, const long x, const long y, const unsigned long columns, const unsigned long rows ); </blockquote><P>
A description of each parameter follows:</P>
<DL><DT><DD><DL>
<DD><P></P><DT><STRONG>status:</STRONG><BR>
<DD>
<CODE>GetImagePixels()</CODE> returns a pointer to the pixels if they are transferred, otherwise a 
NULL is returned.
<P></P>
<DD><P></P><DT><STRONG>image:</STRONG><BR>
<DD>
The image.
<P></P>
<DD><P></P><DT><STRONG>x,y,columns,rows:</STRONG><BR>
<DD>
These values define the perimeter of a region of pixels.
<P></P></DL></DL>
<P>
<H3><A NAME="getimagevirtualpixelmethod">GetImageVirtualPixelMethod</A></H3>
<blockquote>GetImageVirtualPixelMethod() gets the "virtual pixels" method for the image. A virtual pixel is any pixel access that is outside the boundaries of the image cache. </blockquote><blockquote>The format of the GetImageVirtualPixelMethod() method is: </blockquote><blockquote><A HREF="types.html#VirtualPixelMethod">VirtualPixelMethod</A> GetImageVirtualPixelMethod ( const <A HREF="types.html#Image">Image</A> *image ); </blockquote><P>
A description of each parameter follows:</P>
<DL><DT><DD><DL>
<DD><P></P><DT><STRONG>image:</STRONG><BR>
<DD>
The image.
<P></P></DL></DL>
<P>
<H3><A NAME="getindexes">GetIndexes</A></H3>
<blockquote>GetIndexes() returns the indexes associated with the last call to SetImagePixels ( ) or GetImagePixels ( ) . </blockquote><blockquote>The format of the GetIndexes() method is: </blockquote><blockquote>IndexPacket *GetIndexes ( const <A HREF="types.html#Image">Image</A> *image ); </blockquote><P>
A description of each parameter follows:</P>
<DL><DT><DD><DL>
<DD><P></P><DT><STRONG><A NAME="item_o_indexes%3A">indexes:</A></STRONG><BR>
<DD>
<CODE>GetIndexes()</CODE> returns the indexes associated with the last call to <CODE>SetImagePixels()</CODE> or GetImagePixels().
<P></P>
<DD><P></P><DT><STRONG>image:</STRONG><BR>
<DD>
The image.
<P></P></DL></DL>
<P>
<H3><A NAME="getonepixel">GetOnePixel</A></H3>
<blockquote>GetOnePixel() returns a single pixel at the specified ( x, y ) location. The image background color is returned if an error occurs. </blockquote><blockquote>The format of the GetOnePixel() method is: </blockquote><blockquote><A HREF="types.html#PixelPacket">PixelPacket</A> *GetOnePixel ( const <A HREF="types.html#Image">Image</A> image, const long x, const long y ); </blockquote><P>
A description of each parameter follows:</P>
<DL><DT><DD><DL>
<DD><P></P><DT><STRONG>image:</STRONG><BR>
<DD>
The image.
<P></P>
<DD><P></P><DT><STRONG>x,y:</STRONG><BR>
<DD>
These values define the location of the pixel to return.
<P></P></DL></DL>
<P>
<H3><A NAME="getpixels">GetPixels</A></H3>
<blockquote>GetPixels() returns the pixels associated with the last call to SetImagePixels ( ) or GetImagePixels ( ) . </blockquote><blockquote>The format of the GetPixels() method is: </blockquote><blockquote><A HREF="types.html#PixelPacket">PixelPacket</A> *GetPixels ( const <A HREF="types.html#Image">Image</A> image ); </blockquote><P>
A description of each parameter follows:</P>
<DL><DT><DD><DL>
<DD><P></P><DT><STRONG>pixels:</STRONG><BR>
<DD>
<CODE>GetPixels()</CODE> returns the pixels associated with the last call to <CODE>SetImagePixels()</CODE> or GetImagePixels().
<P></P>
<DD><P></P><DT><STRONG>image:</STRONG><BR>
<DD>
The image.
<P></P></DL></DL>
<P>
<H3><A NAME="modifycache">ModifyCache</A></H3>
<blockquote>ModifyCache() ensures that there is only a single reference to the pixel cache to be modified, updating the provided cache pointer to point to a clone of the original pixel cache if necessary. </blockquote><P>The format of the ModifyCache method is:</P>
<blockquote>unsigned int ModifyCache ( <A HREF="types.html#Image">Image</A> *image ); </blockquote><P>
A description of each parameter follows:</P>
<DL><DT><DD><DL>
<DD><P></P><DT><STRONG>image:</STRONG><BR>
<DD>
The image.
<P></P></DL></DL>
<P>
<H3><A NAME="referencecache">ReferenceCache</A></H3>
<blockquote>ReferenceCache() increments the reference count associated with the pixel cache returning a pointer to the cache. </blockquote><P>The format of the ReferenceCache method is:</P>
<blockquote><A HREF="types.html#Cache">Cache</A> ReferenceCache ( <A HREF="types.html#Cache">Cache</A> cache_info ); </blockquote><P>
A description of each parameter follows:</P>
<DL><DT><DD><DL>
<DD><P></P><DT><STRONG><A NAME="item_o_cache_info%3A">cache_info:</A></STRONG><BR>
<DD>
The cache_info.
<P></P></DL></DL>
<P>
<H3><A NAME="setimagepixels">SetImagePixels</A></H3>
<blockquote>SetImagePixels() allocates an area to store image pixels as defined by the region rectangle and returns a pointer to the area. This area is subsequently transferred from the pixel cache with SyncImagePixels ( ) . A pointer to the pixels is returned if the pixels are transferred, otherwise a NULL is returned. </blockquote><blockquote>The format of the SetImagePixels() method is: </blockquote><blockquote><A HREF="types.html#PixelPacket">PixelPacket</A> *SetImagePixels ( <A HREF="types.html#Image">Image</A> *image, const long x, const long y, const unsigned long columns, const unsigned long rows ); </blockquote><P>
A description of each parameter follows:</P>
<DL><DT><DD><DL>
<DD><P></P><DT><STRONG>pixels:</STRONG><BR>
<DD>
SetImagePixels returns a pointer to the pixels if they are transferred, otherwise a 
NULL is returned.
<P></P>
<DD><P></P><DT><STRONG>image:</STRONG><BR>
<DD>
The image.
<P></P>
<DD><P></P><DT><STRONG>x,y,columns,rows:</STRONG><BR>
<DD>
These values define the perimeter of a region of pixels.
<P></P></DL></DL>
<P>
<H3><A NAME="setimagevirtualpixelmethod">SetImageVirtualPixelMethod</A></H3>
<blockquote>SetImageVirtualPixelMethod() sets the "virtual pixels" method for the image. A virtual pixel is any pixel access that is outside the boundaries of the image cache. </blockquote><blockquote>The format of the SetImageVirtualPixelMethod() method is: </blockquote><blockquote>SetImageVirtualPixelMethod ( const <A HREF="types.html#Image">Image</A> *image, const <A HREF="types.html#VirtualPixelMethod">VirtualPixelMethod</A> method ); </blockquote><P>
A description of each parameter follows:</P>
<DL><DT><DD><DL>
<DD><P></P><DT><STRONG>image:</STRONG><BR>
<DD>
The image.
<P></P>
<DD><P></P><DT><STRONG><A NAME="item_o_type%3A">type:</A></STRONG><BR>
<DD>
choose from these access types:
<P></P></DL></DL>
<PRE>
      EdgeVPType:  the edge pixels of the image extend infinitely.
      Any pixel outside the image is assigned the same value as the
      pixel at the edge closest to it.
      TileVPType:  the image extends periodically or tiled.  The pixels
      wrap around the edges of the image.
      MirrorVPType:  mirror the image at the boundaries.
      ConstantVPType:  every value outside the image is a constant as
      defines by the pixel parameter.
=head2 SyncImagePixels</PRE>
<blockquote>SyncImagePixels() saves the image pixels to the in-memory or disk cache. The method returns True if the pixel region is synced, otherwise False. </blockquote><blockquote>The format of the SyncImagePixels() method is: </blockquote><blockquote>unsigned int SyncImagePixels ( <A HREF="types.html#Image">Image</A> *image ); </blockquote><P>
A description of each parameter follows:</P>
<DL><DT><DD><DL>
<DD><P></P><DT><STRONG>status:</STRONG><BR>
<DD>
<CODE>SyncImagePixels()</CODE> returns True if the image pixels are transferred to the in-memory or disk cache otherwise False.
<P></P>
<DD><P></P><DT><STRONG>image:</STRONG><BR>
<DD>
The image.
</DL></DL>

</BODY>

</HTML>
